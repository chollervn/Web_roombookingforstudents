<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">
<head>
<meta charset="UTF-8">
<title>Đặt cọc</title>
</head>
<body>
<section style="padding-top: 90px; min-height: 70vh;">
	<div class="container mt-3 p-3">
		<div class="card">
			<div class="card-header">
				<h4>Đặt cọc - <span th:text="${room.roomName}"></span></h4>
			</div>
			<div class="card-body">
				<div class="row">
					<div class="col-md-6">
						<img th:src="@{'/img/room_img/'+${room.image}}" alt="Ảnh phòng" class="img-fluid img-thumbnail" style="max-height:300px; object-fit:cover;"/>
						<p class="mt-2"><strong>Chủ trọ:</strong> <span th:text="${room.contactName}">Chủ trọ</span></p>
						<p><strong>Liên hệ:</strong> <span th:text="${room.contactPhone}">0900...</span></p>
					</div>
					<div class="col-md-6">
						<form th:action="@{/user/save-deposit}" method="post">
							<input type="hidden" name="rid" th:value="${room.id}"/>
							<!-- CSRF token -->
							<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							<div class="mb-3">
								<label class="form-label">Số tiền đặt cọc (VNĐ)</label>
								<input type="number" step="0.01" min="0" name="amount" class="form-control" th:value="${suggestedDeposit}" required />
							</div>
							<button type="submit" class="btn btn-success">Xác nhận đặt cọc</button>
						</form>
						<div class="mt-3">
							<small class="text-muted">Lưu ý: giao diện hiện tại chỉ mô phỏng chức năng đặt cọc. Việc lưu thực tế vào hệ thống, xác thực thanh toán hoặc tài khoản ngân hàng chưa được cấu hình.</small>
						</div>
					</div>
				</div>
			</div>
			<div class="card-footer text-end">
				<a href="/user/cart" class="btn btn-secondary">Quay lại Trọ đã xem</a>
			</div>
		</div>
	</div>
</section>
</body>
</html>

